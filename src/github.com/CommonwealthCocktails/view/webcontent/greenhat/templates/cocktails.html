{{define "base"}}
<!DOCTYPE html>
<html lang="en">

<head>

	{{template "head" .}}


	<style>
		section:after {
			content: "";
			position: absolute;
			z-index: 1;
			bottom: -25px;
			left: 0;
			pointer-events: none;
			background-image: linear-gradient(to bottom, rgba(255, 255, 255, 0), rgba(255, 255, 255, 1) 50%);
			width: 100%;
			height: 100px;
		}

	</style>
</head>

<body>
	{{template "navbar" .}}
	{{with .CocktailSet}}
	<!-- Page Content -->
	<div class="container">

		<div class="row">
			<div class="page-header">
				<h1 align="center">Cocktails{{if .Metadata.MetaName}} - {{.Metadata.MetaName}}{{end}}{{if .Product.ProductName}} - {{.Product.ProductName}}{{end}}</h1>
			</div>
			<div class="col-md-12" >
				<div class="row">
					
					{{template "metaBlurb" .}}
					
					{{template "cocktailBlocks" $}}
				</div>
			</div>
		</div>
	</div>

	{{end}}
	
	{{ $length := len .Pagination.PageNums }} {{ if gt $length 1 }}
	<div class="container">
		<div class="row">
			<div style="text-align:center;" >
				<ul class="pagination">
					{{if .Pagination.HasPrev}}
					<li><a href="/{{$.View}}{{if ne $.Locale ""}}/{{$.Locale}}{{end}}/{{$.SubrouteURL}}/1" style="text-decoration : none; color : #555;"><<</a></li>
					<li><a href="/{{$.View}}{{if ne $.Locale ""}}/{{$.Locale}}{{end}}/{{$.SubrouteURL}}/{{.Pagination.PrevPage}}" style="text-decoration : none; color : #555;"><</a></li>
					{{end}}
					{{range .Pagination.PageNums}}
					<li><a href="/{{$.View}}{{if ne $.Locale ""}}/{{$.Locale}}{{end}}/{{$.SubrouteURL}}/{{.}}" style="text-decoration : none; color : #555;">{{.}}</a></li>
					{{end}}
					{{if .Pagination.HasNext}}
					<li><a href="/{{$.View}}{{if ne $.Locale ""}}/{{$.Locale}}{{end}}/{{$.SubrouteURL}}/{{.Pagination.NextPage}}" style="text-decoration : none; color : #555;">></a></li>
					<li><a href="/{{$.View}}{{if ne $.Locale ""}}/{{$.Locale}}{{end}}/{{$.SubrouteURL}}/{{.Pagination.NumPages}}" style="text-decoration : none; color : #555;">>></a></li>
					{{end}}
				</ul> 
			</div>
		</div>
	</div>
	{{end}}
	
	{{template "footer" .}}
	
	<!-- /.container -->
</body>

</html>
{{end}}

{{define "metaBlurb"}}
{{if .Metadata.Blurb}}
<div class="col-xs-12 col-sm-6 col-md-4 col-lg-2" style="background-color: rgba(100, 100, 100, 0.1); height: 350px;">
	<span style="display: block;">
		<!--<div height="100%">-->
		<p style="max-height: 350px; overflow:hidden;">{{.Metadata.Blurb}}</p>
		<!--</div>-->
	</span>
</div>
{{end}}
{{end}}

{{define "cocktailBlocks"}}
{{with .CocktailSet}}
{{range .ChildCocktails}}
<div class="brightness col-xs-12 col-sm-6 col-md-4 col-lg-2" style="height: 400px; overflow:hidden;">
	<a href="/{{$.View}}{{if ne $.Locale ""}}/{{$.Locale}}{{end}}/cocktail/{{.ID}}/{{.Keywords}}" style="text-decoration : none; color : #555;">
		<div style="align:center;postition:relative;width:100%;">
			<div align="center" style="margin-top: 25px;">
				{{if .ImagePath}}
				<img class="img-responsive" style="height:150px" src="{{.ImagePath}}/{{.Image}}"/>
				{{else}}
				<img class="img-responsive" style="height:150px" src="images/{{.Image}}"/>
				{{end}}
			</div>
			<h4>
			{{.Name}}
			</h4>
			<h5>
				<div class='starrr' id='star{{.ID}}'></div>
				<script>
					$('#star{{.ID}}').starrr({
						max: 5,
						readOnly: true,
						rating: {{.Rating}}
					});
				</script>
			</h5>
			{{if gt .Top100Index 0}}
			<h5>#{{.Top100Index}} in Top 100</h5>
			{{end}}
			<section style="overflow:hidden;">{{.Description}}</section>
		</div>
	</a>
</div>
<!--<div class="brightness col-xs-12 col-sm-6 col-md-4 col-lg-2" style="height: 350px; margin-bottom: 50px;">-->
<!--	<a href="/cocktail/{{.ID}}" style="text-decoration : none; color : #555;">-->
<!--		<span style="display: block;">-->
<!--			<div align="center">-->
<!--				{{if .ImagePath}}-->
<!--				<img class="img-responsive" style="height:150px" src="{{.ImagePath}}/{{.Image}}"/>-->
<!--				{{else}}-->
<!--				<img class="img-responsive" style="height:150px" src="images/{{.Image}}"/>-->
<!--				{{end}}-->
<!--			</div>-->
<!--			<h3>-->
<!--			{{.Name}}-->
<!--			</h3>-->
<!--			<h5>-->
<!--			<div id="stars-existing" class="starrr" data-rating='{{.Rating}}'></div>-->
<!--			</h5>-->
<!--			<section style="height:125px; overflow:hidden;">{{.Description}}</section>-->
<!--		</span>-->
<!--	</a>-->
<!--</div>-->
{{end}}
{{end}}
{{end}}